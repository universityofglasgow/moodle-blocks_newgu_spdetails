define("block_newgu_spdetails/assessmentsduesoon",["exports","core/log","core/ajax","core/chartjs"],(function(_exports,Log,ajax,_chartjs){function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,Log=_interopRequireWildcard(Log),ajax=_interopRequireWildcard(ajax);const Selectors_DUESOON_BLOCK="#assessmentsDueSoonContainer";_exports.init=()=>{(()=>{_chartjs.Chart.register(_chartjs.BarController);let tempPanel=document.querySelector(Selectors_DUESOON_BLOCK);tempPanel.insertAdjacentHTML("afterbegin","<div class='loader d-flex justify-content-center'>\n<div class='spinner-border' role='status'><span class='hidden'>Loading...</span></div></div>"),ajax.call([{methodname:"block_newgu_spdetails_get_assessmentsduesoon",args:{}}])[0].done((function(response){document.querySelector(".loader").remove(),Log.debug("response is:"+response[0]["24hours"]),tempPanel.insertAdjacentHTML("afterbegin","<canvas id='assessmentsDueSoonChart'\n aria-label='Assessments Due Soon chart data' role='graphics-object'>\n<p>The &lt;canvas&gt; element appears to be unsupported in your browser.</p>\n</canvas>");const data=[{labeltitle:"24 hours:",value:response[0]["24hours"]},{labeltitle:"7 days:",value:response[0].week},{labeltitle:"month:",value:response[0].month}];new _chartjs.Chart(document.getElementById("assessmentsDueSoonChart"),{type:"bar",options:{responsive:!0,indexAxis:"y",plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,font:{size:20},generateLabels:chart=>{const datasets=chart.data.datasets;return datasets[0].data.map(((data,i)=>({text:`${chart.data.labels[i]} ${data}`,fillStyle:datasets[0].backgroundColor[i],strokeStyle:datasets[0].backgroundColor[i],pointStyle:"rectRounded",index:i})))}}}}},data:{datasets:[{indexAxis:"y",data:data.map((row=>row.value)),backgroundColor:["rgba(255,0,0,0.6)","rgba(255,153,0,0.6)","rgba(129,187,255,0.6)"],borderColor:["rgba(255,0,0)","rgba(255,153,0)","rgba(129,187,255)"],borderWidth:1,hoverOffset:4}],labels:data.map((row=>row.labeltitle))}})})).fail((function(err){document.querySelector(".loader").remove(),tempPanel.insertAdjacentHTML("afterbegin","<div class='d-flex justify-content-center'>\n"+err.message+"</div>"),Log.debug(err)}))})()}}));

//# sourceMappingURL=assessmentsduesoon.min.js.map