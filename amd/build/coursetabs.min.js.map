{"version":3,"file":"coursetabs.min.js","sources":["../src/coursetabs.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript to initialise the Course Tabs section\n *\n * @module     block_newgu_spdetails/coursetabs\n * @author     Greg Pedder <greg.pedder@glasgow.ac.uk>\n * @copyright  2023 University of Glasgow\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n\"use strict\";\n\nimport * as Log from 'core/log';\nimport * as Ajax from \"../../../../lib/amd/src/ajax\";\nimport {exception as displayException} from 'core/notification';\nimport Templates from 'core/templates';\n\nconst initCourseTabs = () => {\n\n    let activetab = 'current';\n    let page = 0;\n    let sortby = 'shortname';\n    let sortorder = 'asc';\n    let isPageClicked = false;\n\n    // Load the assessments for the \"current\" tab to begin with...\n    loadAssessments(activetab, page, sortby, sortorder, isPageClicked);\n\n    const triggerTabList = document.querySelectorAll('#courses-Tab button');\n\n    // Bind our event listeners.\n    triggerTabList.forEach(triggerEl => {\n        triggerEl.addEventListener('click', handleTabChange);\n        triggerEl.addEventListener('keyup', function(event) {\n            let element = document.activeElement;\n            if (event.keyCode === 13 && element.hasAttribute('tabindex')) {\n                event.preventDefault();\n                element.click();\n            }\n        });\n    });\n};\n\nconst loadAssessments = function(activetab,page,sortby,sortorder,isPageClicked,subcategory = null,parent = null,coursetype = null) {\n    let containerBlock = document.querySelector('#course_contents_container');\n\n    let whichTemplate = subcategory === null ? 'coursecategory' : 'coursesubcategory';\n\n    if (containerBlock.children.length > 0) {\n        containerBlock.innerHTML = '';\n    }\n\n    containerBlock.insertAdjacentHTML(\"afterbegin\",\"<div class='loader d-flex justify-content-center'>\\n\" +\n    \"<div class='spinner-border m-5' role='status'><span class='hidden'>Loading...</span></div></div>\");\n\n    let promise = Ajax.call([{\n        methodname: 'block_newgu_spdetails_get_assessments',\n        args: {\n            activetab: activetab,\n            page: page,\n            sortby: sortby,\n            sortorder: sortorder,\n            subcategory: subcategory,\n            coursetype: coursetype\n        }\n    }]);\n    promise[0].done(function(response) {\n        document.querySelector('.loader').remove();\n        let coursedata = JSON.parse(response.result);\n        Log.debug('coursedata struct:' + response.result + ' len:' + response.result.length);\n        Templates.renderForPromise('block_newgu_spdetails/' + whichTemplate, {data:coursedata})\n        .then(({html, js}) => {\n            Templates.appendNodeContents(containerBlock, html, js);\n            if (isPageClicked == true) {\n                containerBlock.scrollIntoView({ behavior: \"smooth\"});\n            }\n            let subCategories = document.querySelectorAll('.subcategory-row');\n            let sortColumns = document.querySelectorAll('.th-sortable');\n            subCategoryEventHandler(subCategories);\n            subCategoryReturnHandler(parent);\n            sortingEventHandler(sortColumns, activetab, page, subcategory, parent, coursetype);\n            sortingStatus(sortby, sortorder);\n        }).catch((error) => displayException(error));\n    }).fail(function(response) {\n        if(response) {\n            var errorContainer = document.createElement('div');\n            errorContainer.classList.add('alert', 'alert-danger');\n\n            if(response.hasOwnProperty('message')) {\n                var errorMsg = document.createElement('p');\n\n                errorMsg.innerHTML = response.message;\n                errorContainer.appendChild(errorMsg);\n                errorMsg.classList.add('errormessage');\n            }\n\n            if(response.hasOwnProperty('moreinfourl')) {\n                var errorLinkContainer = document.createElement('p');\n                var errorLink = document.createElement('a');\n\n                errorLink.setAttribute('href', response.moreinfourl);\n                errorLink.setAttribute('target', '_blank');\n                errorLink.innerHTML = 'More information about this error';\n                errorContainer.appendChild(errorLinkContainer);\n                errorLinkContainer.appendChild(errorLink);\n                errorLinkContainer.classList.add('errorcode');\n            }\n\n            containerBlock.prepend(errorContainer);\n        }\n    });\n};\n\nconst subCategoryEventHandler = (rows) => {\n    if (rows.length > 0) {\n        rows.forEach((element) => {\n            element.addEventListener('click', () => showSubcategoryDetails(element));\n        });\n    }\n};\n\nconst showSubcategoryDetails = (object) => {\n    let id = object.parentElement.getAttribute('data-id');\n    let parent = object.parentElement.getAttribute('data-parent');\n    let coursetype = object.parentElement.getAttribute('data-coursetype');\n    if (id !== null) {\n        document.querySelector('#courseNav-container').classList.add('hidden-container');\n        let currentTab = document.querySelector('#current_tab');\n        let activetab = '';\n        if(currentTab.classList.contains('active')) {\n            activetab = 'current';\n        }else{\n            activetab = 'past';\n        }\n        // Ordering by DueDate by default....\n        loadAssessments(activetab, 0, 'duedate', 'asc', true, id, parent, coursetype);\n    }\n};\n\nconst subCategoryReturnHandler = (id) => {\n    // We want this to work in 2 ways.\n    // When descending levels, we want to know which level to return to, hence setting the data-parent.\n    // When ascending, we don't want to get stuck at a sub level, hence, not worrying if we pass null\n    // - this gets picked up as 'not a sub category' and will therefore display everything from the top\n    // level, i.e. all courses.\n    Log.debug('subCategoryReturnHandler called with id:' + id);\n    if (id !== null) {\n        document.querySelector('#subcategory-return-assessment').setAttribute('data-parent', id);\n    }\n\n    // The 'return to...' element won't exist on the page at the top most level.\n    if (document.querySelector('#subcategory-return-assessment')) {\n        document.querySelector('#subcategory-return-assessment').addEventListener('click', () => {\n            // We now want to reload the previous level, using the previous id...\n            // In order to display all courses, we pass null back to loadAssessments.\n            Log.debug('calling loadAssessments with id:' + id);\n            if (id == 0 || id === null) {\n                id = null;\n                document.querySelector('#courseNav-container').classList.remove('hidden-container');\n            }\n            let coursetype = document.querySelector('#subcategory-return-assessment').getAttribute('data-coursetype');\n            let currentTab = document.querySelector('#current_tab');\n            let activetab = '';\n            if(currentTab.classList.contains('active')) {\n                activetab = 'current';\n            }else{\n                activetab = 'past';\n            }\n            loadAssessments(activetab, 0, 'shortname', 'asc', true, id, null, coursetype);\n        });\n    }\n};\n\nconst sortingEventHandler = (rows, activetab, page, subcategory, parent, coursetype) => {\n    if (rows.length > 0) {\n        rows.forEach((element) => {\n            element.addEventListener('click', () => sortingHeaders(element, activetab, page, subcategory, parent, coursetype));\n        });\n    }\n};\n\nconst sortingHeaders = (object, activetab, page, subcategory, parent, coursetype) => {\n    let sortby = object.getAttribute('data-sortby');\n    let sortorder = object.getAttribute('data-value');\n    if (sortorder === null) {\n        sortorder = 'asc';\n    }\n\n    if (sortorder !== null) {\n        // reverse the sort order in order for it to function correctly\n        if (sortorder == 'asc') {\n            sortorder = 'desc';\n        } else {\n            sortorder = 'asc';\n        }\n    }\n\n    loadAssessments(activetab, page, sortby, sortorder, true, subcategory, parent, coursetype);\n};\n\nconst sortingStatus = function(sortby, sortorder) {\n    Log.debug('sortingStatus called with sortby:' + sortby + ' sortorder:' + sortorder);\n    let sortByShortName = document.querySelector('#sortby_shortname');\n    let sortByFullName = document.querySelector('#sortby_fullname');\n    let sortByAssessmentType = document.querySelector('#sortby_assessmenttype');\n    let sortByWeight = document.querySelector('#sortby_weight');\n    let sortByDueDate = document.querySelector('#sortby_duedate');\n    let sortByStatus = document.querySelector('#sortby_status');\n    let sortByGrade = document.querySelector('#sortby_grade');\n\n    switch(sortby) {\n        case 'shortname':\n            if(sortByShortName) {\n                if (sortorder == 'asc') {\n                    sortByShortName.classList.add('th-sort-asc');\n                    sortByShortName.classList.remove('th-sort-desc');\n                    sortByShortName.setAttribute('data-value', 'asc');\n                } else {\n                    sortByShortName.classList.add('th-sort-desc');\n                    sortByShortName.classList.remove('th-sort-asc');\n                    sortByShortName.setAttribute('data-value', 'desc');\n                }\n            }\n            break;\n        case 'fullname':\n            if(sortByFullName) {\n                if (sortorder == 'asc') {\n                    sortByFullName.classList.add('th-sort-asc');\n                    sortByFullName.classList.remove('th-sort-desc');\n                    sortByFullName.setAttribute('data-value', 'asc');\n                } else {\n                    sortByFullName.classList.add('th-sort-desc');\n                    sortByFullName.classList.remove('th-sort-asc');\n                    sortByFullName.setAttribute('data-value', 'desc');\n                }\n            }\n            break;\n        case 'assessmenttype':\n            if(sortByAssessmentType) {\n                if (sortorder == 'asc') {\n                    sortByAssessmentType.classList.add('th-sort-asc');\n                    sortByAssessmentType.classList.remove('th-sort-desc');\n                    sortByAssessmentType.setAttribute('data-value', 'asc');\n                } else {\n                    sortByAssessmentType.classList.add('th-sort-desc');\n                    sortByAssessmentType.classList.remove('th-sort-asc');\n                    sortByAssessmentType.setAttribute('data-value', 'desc');\n                }\n            }\n            break;\n        case 'weight':\n            if(sortByWeight) {\n                if (sortorder == 'asc') {\n                    sortByWeight.classList.add('th-sort-asc');\n                    sortByWeight.classList.remove('th-sort-desc');\n                    sortByWeight.setAttribute('data-value', 'asc');\n                } else {\n                    sortByWeight.classList.add('th-sort-desc');\n                    sortByWeight.classList.remove('th-sort-asc');\n                    sortByWeight.setAttribute('data-value', 'desc');\n                }\n            }\n            break;\n        case 'duedate':\n            if(sortByDueDate) {\n                if(sortorder == 'asc') {\n                    sortByDueDate.classList.add('th-sort-asc');\n                    sortByDueDate.classList.remove('th-sort-desc');\n                    sortByDueDate.setAttribute('data-value', 'asc');\n                }else{\n                    sortByDueDate.classList.add('th-sort-desc');\n                    sortByDueDate.classList.remove('th-sort-asc');\n                    sortByDueDate.setAttribute('data-value', 'desc');\n                }\n            }\n            break;\n        case 'status':\n            if(sortByStatus) {\n                if(sortorder == 'asc') {\n                    sortByStatus.classList.add('th-sort-asc');\n                    sortByStatus.classList.remove('th-sort-desc');\n                    sortByStatus.setAttribute('data-value', 'asc');\n                }else{\n                    sortByStatus.classList.add('th-sort-desc');\n                    sortByStatus.classList.remove('th-sort-asc');\n                    sortByStatus.setAttribute('data-value', 'desc');\n                }\n            }\n            break;\n        case 'grade':\n            if(sortByGrade) {\n                if(sortorder == 'asc') {\n                    sortByGrade.classList.add('th-sort-asc');\n                    sortByGrade.classList.remove('th-sort-desc');\n                    sortByGrade.setAttribute('data-value', 'asc');\n                }else{\n                    sortByGrade.classList.add('th-sort-desc');\n                    sortByGrade.classList.remove('th-sort-asc');\n                    sortByGrade.setAttribute('data-value', 'desc');\n                }\n            }\n            break;\n        default:\n            break;\n    }\n};\n\n/**\n * Function to bind events to tabs.\n *\n * @param {object} event\n */\nconst handleTabChange = function(event) {\n    event.preventDefault();\n\n    let currentTab = document.querySelector('#current_tab');\n    let pastTab = document.querySelector('#past_tab');\n    let isPageClicked = false;\n\n    switch(event.target) {\n        case currentTab:\n            var activetab = 'current';\n            var page = 0;\n            var sortby = 'shortname';\n            var sortorder = 'asc';\n\n            currentTab.classList.add('active');\n            pastTab.classList.remove('active');\n\n            loadAssessments(activetab, page, sortby, sortorder, isPageClicked);\n            break;\n        case pastTab:\n            var activetab = 'past';\n            var page = 0;\n            var sortby = 'shortname';\n            var sortorder = 'asc';\n\n            currentTab.classList.remove('active');\n            pastTab.classList.add('active');\n\n            loadAssessments(activetab, page, sortby, sortorder, isPageClicked);\n            break;\n        default:\n            break;\n    }\n};\n\n\n/**\n * @constructor\n */\nexport const init = () => {\n    initCourseTabs();\n};"],"names":["loadAssessments","activetab","page","sortby","sortorder","isPageClicked","subcategory","parent","coursetype","containerBlock","document","querySelector","whichTemplate","children","length","innerHTML","insertAdjacentHTML","promise","Ajax","call","methodname","args","done","response","remove","coursedata","JSON","parse","result","Log","debug","renderForPromise","data","then","_ref","html","js","appendNodeContents","scrollIntoView","behavior","subCategories","querySelectorAll","sortColumns","subCategoryEventHandler","subCategoryReturnHandler","sortingEventHandler","sortingStatus","catch","error","fail","errorContainer","createElement","classList","add","hasOwnProperty","errorMsg","message","appendChild","errorLinkContainer","errorLink","setAttribute","moreinfourl","prepend","rows","forEach","element","addEventListener","showSubcategoryDetails","object","id","parentElement","getAttribute","contains","sortingHeaders","sortByShortName","sortByFullName","sortByAssessmentType","sortByWeight","sortByDueDate","sortByStatus","sortByGrade","handleTabChange","event","preventDefault","currentTab","pastTab","target","triggerEl","activeElement","keyCode","hasAttribute","click"],"mappings":"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"}